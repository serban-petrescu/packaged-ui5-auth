sap.ui.define(["sap/ui/core/Element"],function(t){return function(e){function r(){var t=n[0].getMetadata().getAllAggregations();a=jQuery.map(t,function(t){return t})}var a,n=[e],u=0,o=0;r(),this.next=function(){do{var e=function(){for(;u<a.length;++u){var t,e=a[u].get(n[0]);if(a[u].multiple){if(e&&o<e.length)return e[o++];if(t=n[0].getBindingInfo(a[u].name),0===o&&t&&t.template)return++o,t.template}else if(0===o&&e)return++o,e;o=0}return null}();if(e){if(e instanceof t)return n.push(e),e}else u=0,o=0,n.shift(),n.length&&r()}while(n.length);return null},this.remove=function(){var t,e=a[u];--o,n.pop(),e.multiple?(t=n[0].getBindingInfo(e.name),t&&t.template?n[0].unbindAggregation(e.name):a[u].remove(n[0],o)):a[u].set(n[0],null)}}},!1);